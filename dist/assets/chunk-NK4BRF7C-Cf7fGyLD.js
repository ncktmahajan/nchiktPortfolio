import{r as t,u as q,j as k}from"./index-CLs0emCh.js";import{t as G,m as H,u as J,o as Q,c as L,d as C,f as X}from"./chunk-N2KXC5ZE-QJI8KfnC.js";var R=G({slots:{wrapper:"relative shadow-black/5",zoomedWrapper:"relative overflow-hidden rounded-inherit",img:"relative z-10 opacity-0 shadow-black/5 data-[loaded=true]:opacity-100",blurredImg:["absolute","z-0","inset-0","w-full","h-full","object-cover","filter","blur-lg","scale-105","saturate-150","opacity-30","translate-y-1"]},variants:{radius:{none:{},sm:{},md:{},lg:{},full:{}},shadow:{none:{wrapper:"shadow-none",img:"shadow-none"},sm:{wrapper:"shadow-small",img:"shadow-small"},md:{wrapper:"shadow-medium",img:"shadow-medium"},lg:{wrapper:"shadow-large",img:"shadow-large"}},isZoomed:{true:{img:["object-cover","transform","hover:scale-125"]}},showSkeleton:{true:{wrapper:["group","relative","overflow-hidden","bg-content3 dark:bg-content2"],img:"opacity-0"}},disableAnimation:{true:{img:"transition-none"},false:{img:"transition-transform-opacity motion-reduce:transition-none !duration-300"}}},defaultVariants:{radius:"lg",shadow:"none",isZoomed:!1,isBlurred:!1,showSkeleton:!1},compoundVariants:[{showSkeleton:!0,disableAnimation:!1,class:{wrapper:["before:opacity-100","before:absolute","before:inset-0","before:-translate-x-full","before:animate-[shimmer_2s_infinite]","before:border-t","before:border-content4/30","before:bg-gradient-to-r","before:from-transparent","before:via-content4","dark:before:via-default-700/10","before:to-transparent","after:opacity-100","after:absolute","after:inset-0","after:-z-10","after:bg-content3","dark:after:bg-content2"]}}],compoundSlots:[{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"none",class:"rounded-none"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"full",class:"rounded-full"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"sm",class:"rounded-small"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"md",class:"rounded-md"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"lg",class:"rounded-large"}]}),Y=globalThis!=null&&globalThis.document?t.useLayoutEffect:t.useEffect;function ee(g={}){const{loading:m,src:n,srcSet:c,onLoad:e,onError:i,crossOrigin:p,sizes:d,ignoreFallback:s}=g,[f,o]=t.useState("pending");t.useEffect(()=>{o(n?"loading":"pending")},[n]);const l=t.useRef(),b=t.useCallback(()=>{if(!n)return;a();const r=new Image;r.src=n,p&&(r.crossOrigin=p),c&&(r.srcset=c),d&&(r.sizes=d),m&&(r.loading=m),r.onload=u=>{a(),o("loaded"),e==null||e(u)},r.onerror=u=>{a(),o("failed"),i==null||i(u)},l.current=r},[n,p,c,d,e,i,m]),a=()=>{l.current&&(l.current.onload=null,l.current.onerror=null,l.current=null)};return Y(()=>{if(!s)return f==="loading"&&b(),()=>{a()}},[f,b,s]),s?"loaded":f}function re(g){var m,n;const c=q(),[e,i]=H(g,R.variantKeys),{ref:p,as:d,src:s,className:f,classNames:o,loading:l,isBlurred:b,fallbackSrc:a,isLoading:r,disableSkeleton:u=!!a,removeWrapper:B=!1,onError:Z,onLoad:_,srcSet:y,sizes:I,crossOrigin:S,...v}=e,x=ee({src:s,loading:l,onError:Z,onLoad:_,ignoreFallback:!1,srcSet:y,sizes:I,crossOrigin:S}),z=(n=(m=g.disableAnimation)!=null?m:c==null?void 0:c.disableAnimation)!=null?n:!1,W=x==="loaded"&&!r,N=x==="loading"||r,$=g.isZoomed,O=d||"img",j=J(p),{w:F,h:M}=t.useMemo(()=>({w:e.width?typeof e.width=="number"?`${e.width}px`:e.width:"fit-content",h:e.height?typeof e.height=="number"?`${e.height}px`:e.height:"auto"}),[e==null?void 0:e.width,e==null?void 0:e.height]),E=(!s||!W)&&!!a,P=N&&!u,h=t.useMemo(()=>R({...i,disableAnimation:z,showSkeleton:P}),[Q(i),z,P]),T=L(f,o==null?void 0:o.img),V=(w={})=>{const U=L(T,w==null?void 0:w.className);return{src:s,ref:j,"data-loaded":C(W),className:h.img({class:U}),loading:l,srcSet:y,sizes:I,crossOrigin:S,...v,style:{...(v==null?void 0:v.height)&&{height:M},...w.style,...v.style}}},D=t.useCallback(()=>{const w=E?{backgroundImage:`url(${a})`}:{};return{className:h.wrapper({class:o==null?void 0:o.wrapper}),style:{...w,maxWidth:F}}},[h,E,a,o==null?void 0:o.wrapper]),K=t.useCallback(()=>({src:s,"aria-hidden":C(!0),className:h.blurredImg({class:o==null?void 0:o.blurredImg})}),[h,s,o==null?void 0:o.blurredImg]);return{Component:O,domRef:j,slots:h,classNames:o,isBlurred:b,disableSkeleton:u,fallbackSrc:a,removeWrapper:B,isZoomed:$,isLoading:N,getImgProps:V,getWrapperProps:D,getBlurredImgProps:K}}var A=X((g,m)=>{const{Component:n,domRef:c,slots:e,classNames:i,isBlurred:p,isZoomed:d,fallbackSrc:s,removeWrapper:f,disableSkeleton:o,getImgProps:l,getWrapperProps:b,getBlurredImgProps:a}=re({...g,ref:m}),r=k.jsx(n,{ref:c,...l()});if(f)return r;const u=k.jsx("div",{className:e.zoomedWrapper({class:i==null?void 0:i.zoomedWrapper}),children:r});return p?k.jsxs("div",{...b(),children:[d?u:r,t.cloneElement(r,a())]}):d||!o||s?k.jsxs("div",{...b(),children:[" ",d?u:r]}):r});A.displayName="NextUI.Image";var se=A;export{se as i};
